import Head from "next/head";
import type { NextPage } from "next";
import { Formik } from "formik";
import { contactSchema } from "../yup/contactSchema";

interface FormValues {
  name: string;
  email: string;
  phone: string;
  subject: string;
  message: string;
}

const Home: NextPage = () => {
  function onSubmit(e: FormValues) {
    console.log(e);
  }

  return (
    <div>
      <Head>
        <title>Send Mail Solution</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <main className="main">
        <div className="formWrapper">
          <Formik
            initialValues={{} as FormValues}
            onSubmit={(e: FormValues) => onSubmit(e)}
            validationSchema={contactSchema}
          >
            {({ handleSubmit, handleChange, values, errors }) => (
              <form onSubmit={handleSubmit} className="form">
                <div className="inputBlock">
                  <input
                    type="text"
                    name="name"
                    id="name"
                    required
                    placeholder="Your name"
                    value={values.name}
                    onChange={handleChange}
                  />
                  {errors.name && <span>{errors.name}</span>}
                </div>
                <div className="inputBlock">
                  <input
                    type="email"
                    name="email"
                    id="email"
                    required
                    placeholder="Your best email"
                    value={values.email}
                    onChange={handleChange}
                  />
                  {errors.email && <span>{errors.email}</span>}
                </div>

                <div className="inputBlock">
                  <input
                    type="text"
                    name="phone"
                    id="phone"
                    required
                    placeholder="Your phone number"
                    value={values.phone}
                    onChange={handleChange}
                  />
                  {errors.phone && <span>{errors.phone}</span>}
                </div>

                <div className="inputBlock">
                  <input
                    type="text"
                    name="subject"
                    id="subject"
                    required
                    placeholder="Type your subject"
                    value={values.subject}
                    onChange={handleChange}
                  />
                  {errors.subject && <span>{errors.subject}</span>}
                </div>

                <div className="inputBlock">
                  <textarea
                    name="message"
                    value={values.message}
                    onChange={handleChange}
                    cols={30}
                    rows={10}
                    maxLength={120}
                    placeholder="Give me a message"
                  ></textarea>
                  {errors.message && <span>{errors.message}</span>}
                </div>
                <button type="submit">ENVIAR</button>
              </form>
            )}
          </Formik>
        </div>
      </main>
    </div>
  );
};

export default Home;
